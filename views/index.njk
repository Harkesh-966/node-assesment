{% extends "base.njk" %}

{% block title %}Weather App{% endblock %}

{% block content %}
  <h2 class="text-center mb-4">üå¶Ô∏è Weather App</h2>
  <form method="POST" action="/weather" id="weatherForm">
    <div class="form-group">
      <input type="text" class="form-control" name="address" placeholder="Enter address (e.g., Delhi, India)" required>
    </div>
    <div class="d-flex flex-wrap justify-content-center align-items-center mb-3 gap-3">
      <button class="btn btn-primary btn-lg shadow-sm d-flex align-items-center mr-2 mb-2" type="submit">
        <i class="bi bi-cloud-sun mr-2"></i> Get Weather
      </button>
      <button class="btn btn-success btn-lg shadow-sm d-flex align-items-center mr-2 mb-2"
              id="saveBtn" type="button" style="display:none">
        <i class="bi bi-database-check mr-2"></i> Save To DB
      </button>
      <a class="btn btn-secondary btn-lg shadow-sm d-flex align-items-center mr-2 mb-2"
         href="/history">
        <i class="bi bi-clock-history mr-2"></i> Show History
      </a>
      <button class="btn btn-info btn-lg shadow-sm d-flex align-items-center mb-2" id="dynamicBtn" type="button">
        <i class="bi bi-plus-circle-dotted mr-2"></i> Add Element
      </button>
    </div>
  </form>

  <div id="result">
    {% if weather %}
      {% include "partials/weather-card.njk" %}
    {% elif error %}
      <div class="alert alert-danger mt-3">
        <i class="bi bi-exclamation-triangle"></i> {{ error }}
      </div>
    {% endif %}
  </div>

  <div id="dynamicDiv"></div>

  {% include "partials/alert-modal.njk" %}
{% endblock %}

{% block scripts %}
  <script src="/js/index.js"></script>
{% endblock %}
